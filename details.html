<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cookie Compliance Monitor - Dashboard</title>
    <link rel="stylesheet" href="details.css" />
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1>Cookie Compliance Monitor - Dashboard</h1>
        <div class="header-info">
          <div>
            <span class="header-label">Website:</span>
            <span class="header-value" id="website-domain">Loading...</span>
          </div>
          <div>
            <span class="header-label">Chính sách cookie:</span>
            <span class="header-value" id="policy-url">Loading...</span>
          </div>
          <div class="compliance-badge" id="compliance-badge">
            <span></span>
            <span id="compliance-score">Đang tải...</span>
          </div>
          <div>
            <span class="header-label" id="analysis-date">Đang tải...</span>
          </div>
        </div>
      </div>

      <!-- Statistics -->
      <div class="stats-row">
        <div class="stat-card">
          <div class="stat-value" id="total-violations">-</div>
          <div class="stat-label">Tổng số vi phạm</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="compliance-score-stat">-</div>
          <div class="stat-label">Điểm tuân thủ</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="realtime-cookies">-</div>
          <div class="stat-label">Tổng số cookie trang web thu thập</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="declared-cookies">-</div>
          <div class="stat-label">Tổng số cookie được khai báo</div>
        </div>
      </div>

      <!-- Charts Section -->
      <div class="charts-section">
        <div class="chart-card">
          <div class="chart-title">Vi phạm theo mức độ nghiêm trọng</div>
          <div class="chart-container">
            <div class="chart-loading" id="severity-chart-loading">
              Đang tải biểu đồ...
            </div>
            <canvas id="severityChart" class="hidden"></canvas>
          </div>
        </div>

        <div class="chart-card">
          <div class="chart-title">Vi phạm theo loại</div>
          <div class="chart-container">
            <div class="chart-loading" id="type-chart-loading">
              Đang tải biểu đồ...
            </div>
            <canvas id="typeChart" class="hidden"></canvas>
          </div>
        </div>

        <div class="chart-card">
          <div class="chart-title">Cookie được khai báo theo bên thứ ba</div>
          <div class="chart-container">
            <div class="chart-loading" id="third-party-declared-chart-loading">
              Đang tải biểu đồ...
            </div>
            <canvas
              id="declaredCookiesByThirdPartyChart"
              class="hidden"
            ></canvas>
          </div>
        </div>
      </div>

      <!-- Filters -->
      <div class="filters">
        <div class="search-box">
          <input
            type="text"
            class="search-input"
            placeholder="Tìm kiếm cookie..."
            id="searchInput"
          />
        </div>
        <div class="filter-buttons">
          <button class="filter-btn active" data-filter="all">Tất cả</button>
          <button class="filter-btn" data-filter="violations">
            Có vi phạm
          </button>
          <button class="filter-btn" data-filter="declared">Đã khai báo</button>
          <button class="filter-btn" data-filter="realtime">Realtime</button>
          <button class="filter-btn" data-filter="both">
            Cookie thu thập được khai báo
          </button>
          <button class="filter-btn" data-filter="no-violations">
            Tuân thủ
          </button>
        </div>
      </div>

      <!-- Cookie Table -->
      <div class="cookie-table">
        <div class="table-header">Danh sách Cookie và Vi phạm</div>

        <div id="cookieList">
          <div class="loading">Đang tải dữ liệu...</div>
        </div>
      </div>
    </div>

    <script src="details.js"></script>
    <script src="./lib/chart.js-4.4.2/package/dist/chart.umd.js"></script>
  </body>
</html>
